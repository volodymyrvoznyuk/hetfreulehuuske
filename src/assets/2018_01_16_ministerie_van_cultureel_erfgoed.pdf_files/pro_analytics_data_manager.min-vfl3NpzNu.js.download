define(["require","exports","tslib","react","react-redux","file-viewer/core/data/modes/types","modules/clean/react/file_viewer/data/actions","pro-ui/data/feature_checker","modules/clean/pro_analytics/data/store","pro-ui/data/amp-logger","modules/clean/metrics/index","pro-ui/data/hive-logger","modules/clean/logging/telemetry","modules/clean/logging/hive/schemas/professional_sharing-smart_links_analytics"],(function(e,t,i,n,a,r,o,l,c,s,g,d,u,f){"use strict";function m(e){var t=new u.HiveLogger,i={logBasic:function(i,n,a){t.log(new f.SmartLinksAnalyticsLoggingTableRow({user_id:e,timestamp:i,event_name:n,file_id:a}))}};d.HiveLogger.singleton=d.HiveLogger.create(i)}Object.defineProperty(t,"__esModule",{value:!0}),n=i.__importDefault(n),l=i.__importStar(l),u=i.__importStar(u),t.initializeHiveLogger=m,t.UnconnectedProAnalyticsDataManager=function(e){var t=e.dispatch,i=e.fileId,a=e.user;m(a.id.toString());var u=n.default.useRef(),f=n.default.useCallback((function(e,n){if(e===i){(function(e,t,i){try{d.HiveLogger.singleton.logAnalyticsPaneRegistered(t,i)}catch(n){m(e),d.HiveLogger.singleton.logAnalyticsPaneRegistered(t,i)}})(a.id.toString(),i,n);var l=n?o.enableMode(r.FileViewerMode.ProAnalytics):o.disableMode(r.FileViewerMode.ProAnalytics);window.setTimeout((function(){return t(l)}),0)}}),[t,i,a]);s.AmpLogger.conditionallySetSingleton(g.getMetricsReporter);var y=n.default.useMemo((function(){return c.getProAnalyticsStore(a)}),[a]);return n.default.useEffect((function(){i!==u.current&&(t(o.enableMode(r.FileViewerMode.ProAnalytics)),l.checkFileAnalyticsEnablement(y.dispatch,i,f)),u.current=i}),[i,t,y]),null},t.ProAnalayticsDataManager=a.connect()(t.UnconnectedProAnalyticsDataManager)}));
//# sourceMappingURL=pro_analytics_data_manager.min.js-vfl6cADMO.map