define("modules/clean/groups/api",["require","exports","tslib","jquery","modules/clean/ajax","modules/clean/contacts/cache_store","modules/clean/viewer"],(function(e,t,r,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),o=r.__importStar(o);function s(e){var t="/groups_ajax/"+e.method,r=e.reload_contacts||!1;return o.WebRequest({url:t,type:"post",data:e.data,subject_user:a.Viewer.get_viewer().work_user,success:function(t){var o=JSON.parse(t);(o.ok&&(e.success(o.data),n.default(".error_msg").hide()),r)&&i.DefaultContactsCacheStore.getOrCreateForViewer().load_contacts(!0)},error:function(t){var r=t.responseText;e.error&&(e.error(r.slice(4)),n.default(".error_msg").hide())}})}t.ready=function(){},t.get_groups_for_user=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=function(){return{}}),s({method:"get_groups_for_user",data:e,success:t})},t.get_group_info=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=function(){return{}}),s({method:"get_group_info",data:e,success:t})},t.get_users_for_group=function(e,t){return void 0===t&&(t=function(){return{}}),s({method:"get_users_in_group",data:e,success:t})},t.create_group=function(e,t){return void 0===t&&(t=function(){return{}}),s({method:"make_new_group",data:e,success:t,reload_contacts:!0})},t.create_group_with_users=function(e,t){return void 0===t&&(t=function(){return{}}),s({method:"make_new_group_with_users",data:e,success:t,reload_contacts:!0})},t.remove_group=function(e,t){return void 0===t&&(t=function(){return{}}),s({method:"remove_group",data:e,success:t,reload_contacts:!0})},t.rename_group=function(e,t,r){return void 0===r&&(r=function(){return{}}),s({method:"rename_group",data:e,success:t,error:r,reload_contacts:!0})},t.add_users_to_group=function(e,t){return void 0===t&&(t=function(){return{}}),s({method:"add_users_to_group",data:e,success:t,reload_contacts:!0})},t.remove_user_from_group=function(e,t){return void 0===t&&(t=function(){return{}}),s({method:"remove_user_from_group",data:e,success:t,reload_contacts:!0})},t.change_group_member_type=function(e,t){return void 0===t&&(t=function(){return{}}),s({method:"change_group_member_type",data:e,success:t})},t.make_group_join_request=function(e,t){return void 0===t&&(t=function(){return{}}),s({method:"make_group_join_request",data:e,success:t})},t.metaserver_ajax=s})),define("modules/clean/legacy_pyxl_controllers/role_picker",["require","exports","tslib","external/lodash","modules/clean/multiaccount_login","modules/clean/page_role_observer","modules/clean/viewer","modules/core/controller_helpers","modules/core/exception"],(function(e,t,r,n,o,i,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importStar(n),o=r.__importDefault(o),i=r.__importDefault(i),s=r.__importStar(s);var u={ALL:"all",PERSONAL:"personal",WORK:"work"};t.RolePickerState=u;var c=(function(){function e(e){null==e&&(e={}),this.get_state=this.get_state.bind(this),this.set_state=this.set_state.bind(this),this.ensure_role_is_visible=this.ensure_role_is_visible.bind(this),this.is_role_visible=this.is_role_visible.bind(this),this.is_user_visible=this.is_user_visible.bind(this),this._do_login=this._do_login.bind(this),this._actually_set_state=this._actually_set_state.bind(this),this._allow_merged_state=null==e.allow_merged_state||e.allow_merged_state,this._limit_to_role=null!=e.limit_to_role?e.limit_to_role:null;var t=a.Viewer.get_viewer(),r=t.is_role_signed_in(u.PERSONAL)&&t.is_role_signed_in(u.WORK);if(e.initial_state){var o=n.values(u);l.assert(Array.from(o).includes(e.initial_state),"RolePicker requires initial_state to be one of: "+o),this.set_state(e.initial_state)}else if(this._allow_merged_state&&r)this.set_state(u.ALL);else{var i=t.get_users();l.assert(i.length,"tried to use RolePicker on a page with no users");var s=i[0];this.set_state(s.role)}}return e.prototype.get_state=function(){return this._state},e.prototype.set_state=function(e){var t;if(l.assert(this._allow_merged_state||e!==u.ALL,"tried to set merged state in non-merged picker"),null!=this._limit_to_role&&l.assert(e===u.ALL||e===this._limit_to_role,"some awful assert about roles"),e===u.ALL){for(var r=0,n=["personal","work","photos"];r<n.length;r++)if(t=n[r],!a.Viewer.get_viewer().is_role_signed_in(t))return void this._do_login(t,e)}else if(t=e,!a.Viewer.get_viewer().is_role_signed_in(t))return void this._do_login(t,e);return this._actually_set_state(e)},e.prototype.update_picker_ui=function(){},e.prototype.ensure_role_is_visible=function(e){if(!this.is_role_visible(e))return this._allow_merged_state?this.set_state(u.ALL):this.set_state(e)},e.prototype.is_role_visible=function(e){return this._state===u.ALL||this._state===e},e.prototype.is_user_visible=function(e){return this.is_role_visible(e.role)},e.prototype._do_login=function(e,t){var r=this;return o.default.show_modal({role:e,on_success:function(){return r._actually_set_state(t)}})},e.prototype._actually_set_state=function(e){if(e!==this._state)return this._state=e,this.update_picker_ui(),"function"==typeof this.on_state_change?this.on_state_change(e):void 0},e})();t.RolePicker=c;var d=(function(e){function t(t,r){var n=this;return null==r&&(r={}),t.find(".bubble-picker").on("db:bubblepicker:changed",(function(e,t){n.on_ui_change(e,t)})),(n=e.call(this,r)||this).on_ui_change=n.on_ui_change.bind(n),n.update_picker_ui=n.update_picker_ui.bind(n),n.limit_to_role=n.limit_to_role.bind(n),n.$container=t,n.$bubble_picker=n.$bubble_picker,n}return r.__extends(t,e),t.prototype.on_ui_change=function(e,t){var r=t.clicked_val;if(r!==this._state)return s.get_controller(this.$bubble_picker).set_value(this._state),this.set_state(r)},t.prototype.update_picker_ui=function(){return s.get_controller(this.$bubble_picker).set_value(this._state)},t.prototype.limit_to_role=function(e,t){var r,n;if(null!=e)for(r in this.ensure_role_is_visible(e),u)(n=u[r])!==e&&n!==u.ALL&&s.get_controller(this.$bubble_picker).disable_option(n,t);else for(r in u)n=u[r],s.get_controller(this.$bubble_picker).enable_option(n);return this._limit_to_role=e},t})(c);t.RoleSelect=d;var _=(function(e){function t(t,r){return null==r&&(r={}),r.allow_merged_state=!1,e.call(this,t,r)||this}return r.__extends(t,e),t.prototype.on_state_change=function(e){var t=(function(){switch(e){case u.PERSONAL:return"personal";case u.WORK:return"work"}})();return i.default.emit(t)},t})(d);t.PageRoleSelect=_})),define("modules/clean/react/share_sync/actions",["require","exports","tslib","modules/clean/multiaccount_login","modules/clean/viewer","modules/clean/sharing/shared_content_link_mount_folder"],(function(e,t,r,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),i=r.__importStar(i),t.syncToDropbox=function(e,t,r){new Promise((function(e,r){o.Viewer.get_viewer().is_role_signed_in(t)?e():n.default.show_modal({role:t,on_success:function(){e()}})})).then((function(){i.mountSharedFolder(e,t,r,!0)}))}})),define("modules/clean/react/share_sync/button",["require","exports","tslib","react","modules/clean/filepath","modules/clean/react/bubble_menu","modules/clean/react/share_sync/models","spectrum-sharing/utils/sharing_constants","modules/clean/sharing/views/sync_coachmark","modules/clean/react/sprite_div","modules/clean/viewer","modules/core/i18n","modules/constants/payments","modules/clean/analytics","modules/clean/react/sticky_position"],(function(e,t,r,n,o,i,a,s,l,u,c,d,_,m,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),o=r.__importStar(o),s=r.__importStar(s),u=r.__importDefault(u),_=r.__importStar(_);var f=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.options.map((function(e){return n.default.createElement(i.BubbleMenuItem,{onClick:function(){return e.handler()},disabled:e.isDisabled},n.default.createElement(u.default,{group:"web",name:e.spriteName,text:e.text}))}));return n.default.createElement(i.BubbleMenu,{targetButton:this.props.targetButton,position:p.StickyPosition.BOTTOM,verticalDisplacement:4,items:e})},t})(n.default.Component),h=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logShareFolderPreviewUpgradeBtn=function(e){m.GrowthEventsLogger.log("wb_nq_pre_fo_up_b",{action:e,button_text:"Upgrade to Add Folder",destination_url:"http://www.dropbox.com/low-space",location:"top",quota_status:"near",upsell_type:"button"})},t.handleUpgradeButtonClick=function(){t.logShareFolderPreviewUpgradeBtn("click")},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.outOfQuota&&this.logShareFolderPreviewUpgradeBtn("view")},t.prototype.onClickedOption=function(e,t){e.preventDefault(),t.handler()},t.prototype.getSyncOptions=function(){var e=this,t=this.props.sharePermission.canSyncToDropboxRoles,r=c.Viewer.get_viewer();return t.map((function(t){return a.ShareSyncActionOption.buildOption(e.props.folder,r,t,s.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE)}))},t.prototype.renderSyncCoachmark=function(){var e=this.props.sharePermission.canSyncToDropboxRoles.length>0;return this.props.showSyncCoachmark&&e?n.default.createElement("div",{className:"sync-button__coachmark-container"},n.default.createElement(l.SharingSyncCoachmark,null)):null},t.prototype.renderSyncButton=function(){var e=this;if(""!==this.props.shareToken.subPath)return null;if(0===this.props.sharePermission.canSyncToDropboxRoles.length)return null;var t="button-primary control__button sync-button";if(this.props.outOfQuota){var r=_.OUT_OF_SPACE_URL+"?oqa=wb_oq_pre_fo_up_b";return n.default.createElement("a",{className:t,href:r,onClick:this.handleUpgradeButtonClick},d.intl.formatMessage({id:"JhDJcU",defaultMessage:"Upgrade to Add Folder"}))}var i=void 0;if(this.props.user&&this.props.user.is_cdm_member){var a=o.filename(this.props.user.cdm_tmf_path);i=a.length>25?d.intl.formatMessage({id:"6m85k6",defaultMessage:"Add to my member folder"}):d.intl.formatMessage({id:"ck1w+U",defaultMessage:"Add to <strong>{cdm_tmf_name}</strong> folder"},{cdm_tmf_name:a,strong:function(e){return n.default.createElement("strong",{style:{fontWeight:800}},e)}})}else i=d.intl.formatMessage({id:"N8ovVA",defaultMessage:"Add to Dropbox"});var s=this.getSyncOptions();if(1===s.length)return n.default.createElement("button",{className:t,style:{display:"-webkit-box"},onClick:function(t){return e.onClickedOption(t,s[0])}},i);var l=n.default.createElement("button",{className:t},i);return n.default.createElement(f,{targetButton:l,folder:this.props.folder,shareToken:this.props.shareToken,options:s})},t.prototype.render=function(){return n.default.createElement("div",null,this.renderSyncCoachmark(),this.renderSyncButton())},t})(n.default.Component);t.ShareSyncButton=h})),define("modules/clean/react/share_sync/models",["require","exports","tslib","immutable","react","modules/clean/filepath","modules/clean/react/share_sync/actions","modules/core/i18n"],(function(e,t,r,n,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importStar(n),o=r.__importDefault(o),i=r.__importStar(i),a=r.__importStar(a);var l={text:void 0,handler:void 0,isDisabled:!1,spriteName:void 0},u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.buildOption=function(e,r,n,l){var u=s.intl.formatMessage({id:"l/lvUk",defaultMessage:"Save to my Dropbox"}),c="dropbox",d=r.get_user_by_role(n);if(d&&d.is_cdm_member){var _=i.filename(d.cdm_tmf_path);u=_.length>12?s.intl.formatMessage({id:"QPvsZL",defaultMessage:"Save to my member folder"}):s.intl.formatMessage({id:"VIDWC/",defaultMessage:"Save to <strong>{cdm_tmf_name}</strong> folder"},{cdm_tmf_name:_,strong:function(e){return o.default.createElement("strong",null,e)}}),r.is_paired&&(c="s_briefcase")}else if(r.is_paired)switch(n){case"personal":u=s.intl.formatMessage({id:"S5UJEB",defaultMessage:"Save to personal Dropbox"}),c="s_house";break;case"work":u=s.intl.formatMessage({id:"76AF1h",defaultMessage:"Save to {team_name} Dropbox"},{team_name:r.team_name}),c="s_briefcase"}return new t({text:u,handler:function(){a.syncToDropbox(e.shared_folder_id,n,l)},spriteName:c})},t})(n.Record(l));t.ShareSyncActionOption=u})),define("modules/clean/sharing/notifications",["require","exports","tslib","jquery","modules/clean/browse_interface","modules/clean/sharing/api/client","modules/clean/sharing/ui_notifications_util","modules/clean/viewer","modules/constants/payments","modules/core/browser","modules/core/i18n","modules/core/uri"],(function(e,t,r,n,o,i,a,s,l,u,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),o=r.__importStar(o),l=r.__importStar(l),u=r.__importStar(u);t.register_dismiss=function(e){var t,r=n.default(e).closest("form");return null===(t=r.closest(".sc-invite-action"))||void 0===t||t.addClass("loading"),r.length&&new i.ShareApiClient({userId:r[0]._subject_uid.value}).dismissInviteNotification({contentId:r[0].content_id.value}).finally((function(){return r.closest(".sc-invite-action").removeClass("loading"),r.closest(".feed-row").remove()})),!1};t.register_mount=function(e){var t=n.default(e);t.closest(".sc-invite-action").addClass("loading");var r=s.Viewer.get_viewer().get_user_by_id(e._subject_uid.value);return new i.FolderShareApiClient({userId:r.id}).mount({contentId:e.sf_id.value,origin:"NOTIFICATION_WEB"}).then((function(e){t.closest(".sc-invite-action").addClass("sf-mounted");var n=e.path_lower,i=new d.URI({path:o.get_browse_root(r)+n}).toString();return u.redirect(i),a.sharingNotificationSuccess(c.intl.formatMessage({id:"I/ePp9",defaultMessage:"Added the shared folder {folder_name}."},{folder_name:e.name}))})).finally((function(){return t.closest(".sc-invite-action").removeClass("loading")})),!1};t.upgrade_to_mount=function(){a.sharingNotificationInfo(c.intl.formatMessage({id:"oeASwG",defaultMessage:"Continue upgrading to add the shared folder to your Dropbox."}));var e=l.BUY_URL,t=new d.URI({scheme:"https",authority:"www.dropbox.com",path:e});return t.updateQuery({cont:"sf",oqa:"sf_aoq_b_n"}),u.redirect(t.toString()),!1}})),define("modules/clean/sharing/views/sync_coachmark",["require","exports","tslib","react","modules/clean/ajax","modules/clean/react/bubble","modules/clean/react/css","modules/clean/react/image","modules/clean/static_urls","modules/core/i18n"],(function(e,t,r,n,o,i,a,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),o=r.__importStar(o),i=r.__importDefault(i);var c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={show:!0},t.hideSyncCoachmark=function(){t.setState({show:!1})},t}return r.__extends(t,e),t.prototype.componentWillMount=function(){o.BackgroundRequest({url:"/sharing/seen_sync_coachmark"})},t.prototype.render=function(){return this.state.show?n.default.createElement(i.default,{arrow:i.default.ARROW.TOP_RIGHT,className:"sync-coachmark u-pad-s"},n.default.createElement(s.Image,{className:"u-l-ib",src:l.static_url("/static/images/sharing/sync_coachmark-vflvg8Oy0.png"),srcHiRes:l.static_url("/static/images/sharing/sync_coachmark@2x-vflhX3Mhx.png")}),n.default.createElement("div",{className:"u-l-ib u-pad-left-s sync-coachmark__content"},n.default.createElement("h2",null,u.intl.formatMessage({id:"utNf/m",defaultMessage:"Stay in sync"})),n.default.createElement("p",null,u.intl.formatMessage({id:"SIGEzu",defaultMessage:"For easy access to this folder in the future, add it to your Dropbox."})),n.default.createElement("button",{className:"c-btn c-btn--secondary",onClick:this.hideSyncCoachmark},u.intl.formatMessage({id:"W4An+g",defaultMessage:"Got it"})))):n.default.createElement("div",null)},t.displayName="SharingSyncCoachmark",t})(n.default.Component);t.SharingSyncCoachmark=a.requireCssWithComponent(c,["/static/css/sharing/sync_coachmark-vfl_8vkAL.css"])})),define("modules/clean/teams/limited_team_invite_form",["require","exports","tslib","classnames","react","react-dom-factories","modules/core/uri","modules/core/i18n","modules/clean/ajax","modules/clean/analytics","modules/clean/css","modules/clean/contacts/contact_token_state","modules/clean/contacts/tokenizer","modules/clean/contacts/types","modules/clean/react/input","modules/core/browser"],(function(e,t,r,n,o,i,a,s,l,u,c,d,_,m,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),o=r.__importDefault(o),i=r.__importDefault(i),l=r.__importStar(l),c=r.__importStar(c),m=r.__importDefault(m),p=r.__importStar(p),f=r.__importStar(f);var h=p.textarea,g=(function(){function e(){this.inFlight=!0,this.canInvite=!1,this.reason="checking",this.callbacks=[]}return e.prototype.whenReady=function(e){this.inFlight?this.callbacks.push(e):e()},e.prototype.resultArrived=function(e,t){if(this.inFlight){this.inFlight=!1,this.canInvite=e,this.reason=t;for(var r=0,n=this.callbacks;r<n.length;r++){(0,n[r])()}this.callbacks=[]}},e})(),v=function(e){var t=this;this.checkEmails=function(e,r){var n={},o=e.length;if(0===o)return r(n);for(var i=[],a=function(e){var a=t.checkedEmails[e];a||(a=t.checkedEmails[e]=new g,i.push(e)),a.whenReady((function(){n[e]=a,0==--o&&r(n)}))},s=0,u=e;s<u.length;s++)a(u[s]);(function(e){l.WebRequest({url:t.checkUrl,data:{emails:e.join(",")},success:function(e){var r=JSON.parse(e);for(var n in r)if(r[n]){var o=r[n],i=o.can_invite,a=o.reason;t.checkedEmails[n]&&t.checkedEmails[n].resultArrived(i,a)}},error:function(){for(var r=0,n=e;r<n.length;r++){var o=n[r];delete t.checkedEmails[o]}}})})(i)},this.getEmailCheckResult=function(e){return t.checkedEmails[e]},this.checkUrl=e,this.checkedEmails={}};t.InvitationContexts={existingTeam:{id:"existingTeam",checkUrl:"/team/manage/check_can_invite"},createLimitedTeam:{id:"createLimitedTeam",checkUrl:"/team/create_limited/check_can_invite"}};var b={};for(var k in t.InvitationContexts)if(t.InvitationContexts[k]){var y=t.InvitationContexts[k],S=y.id,w=y.checkUrl;b[S]=new v(w)}var C=(function(e){function l(t){var r=e.call(this,t)||this;return r._isUnMounted=!1,r.getContacts=function(){return r.refs.tokenizer.getContacts()},r.getFinalData=function(e){var t;r.refs.tokenizer.tokenizeAll();var n=r.getContacts();r.props.includeCustomMessage&&(t=r.refs.customMessage.getValue()),r._ensureContactsStateUpdated(n,(function(){var o=n.filter((function(e){return e.type===m.default.EMAIL})).map((function(e){return e.email}));r._updateErrorMessage((function(){u.TeamsWebActionsLogger.log("suggest_members_entered_email_error",{error_message:r.state.errorMessage,url:f.get_href()})})),e({emails:o,custom_message:t})}))},r.areAllContactsValid=function(){if(r._overInviteLimit())return!1;var e=r.refs.tokenizer.serializeInputData().tokens;return 0===e.length||e.every((function(e){return r._validateContact(e).state===d.ContactTokenState.ok}))},r.isEmpty=function(){var e=r.refs.tokenizer.serializeInputData(),t=e.tokens,n=e.value;return 0===t.length&&0===n.length},r._ensureContactsStateUpdated=function(e,t){var n=(e=e.filter((function(e){return e.type===m.default.EMAIL&&!e.invalid&&!e.on_team}))).map((function(e){return e.email}));r.state.emailCheckerStore.checkEmails(n,(function(){r._isUnMounted||t()}))},r._validateContact=function(e){var t;if(e.invalid)t={state:d.ContactTokenState.invalid,msg:s.intl.formatMessage({id:"Zo28sX",defaultMessage:"Invalid email."})};else if(e.on_team)t={state:d.ContactTokenState.invalid,msg:s.intl.formatMessage({id:"w6S6LE",defaultMessage:"User is already a member of this team."})};else{var n=r.state.emailCheckerStore.getEmailCheckResult(e.email),o=null;n?n.inFlight?t={state:d.ContactTokenState.pending,msg:o}:n.canInvite?t={state:d.ContactTokenState.ok,msg:o}:("team_member"===n.reason?o=s.intl.formatMessage({id:"/bTRGP",defaultMessage:"This person is already on another team."}):"already_on_this_team"===n.reason?o=s.intl.formatMessage({id:"gUZ177",defaultMessage:"User is already invited to this team."}):"error"===n.reason&&(o=s.intl.formatMessage({id:"I1RVgD",defaultMessage:"User isn’t eligible to join this team."})),t={state:d.ContactTokenState.invalid,msg:o}):t={state:d.ContactTokenState.invalid,msg:o}}return t},r._overInviteLimit=function(){var e=r.refs.tokenizer.serializeInputData().tokens;return void 0!==r.props.memberInviteLimit&&e.length>r.props.memberInviteLimit},r._updateErrorMessage=function(e){if(r.refs.tokenizer){for(var t=0,n=r.refs.tokenizer.serializeInputData().tokens;t<n.length;t++){var o=n[t],l=r._validateContact(o),u=l.state,c=l.msg;if(u!==d.ContactTokenState.ok)return void r.setState({errorMessage:c},e)}if(r._overInviteLimit()){var _={tk:String(r.props.maxTeamSize),_camp:"invite"},m=new a.URI({path:"/team/upgrade",query:_});r.setState({errorMessage:s.intl.formatMessage({id:"K4q33s",defaultMessage:"{count, plural, one{You have {count} invite remaining. <upgradeLink>Upgrade</upgradeLink> now to add as many members as you like to your team.} other{You have {count} invites remaining. <upgradeLink>Upgrade</upgradeLink> now to add as many members as you like to your team.}}"},{count:r.props.memberInviteLimit,upgradeLink:function(e){return i.default.a({href:m.toString()},e)}})},e)}else r.setState({errorMessage:null})}},r.onContentsChange=function(e,t){r._ensureContactsStateUpdated(e,(function(){r._updateErrorMessage(),r.props.onChange&&r.props.onChange()}))},r._customContactFilter=function(e){return!(e.type!==m.default.EMAIL||e.team||!e.name||e.email===r.props.user.email)},r.state={errorMessage:null,emailCheckerStore:r.props.emailCheckerStore||b[r.props.invitationContext.id]},r}return r.__extends(l,e),l.prototype.componentWillMount=function(){var e=this;c.require_css("/static/css/teams/limited_team_invite_form-vflcSjpys.css"),c.require_css("/static/css/react/contacts_tokenizer-vflPxjRxg.css"),this.props.populatedContacts&&this.props.populatedContacts.length>0&&this._ensureContactsStateUpdated(this.props.populatedContacts,(function(){e.props.onChange&&e.props.onChange()}))},l.prototype.componentDidUnMount=function(){this._isUnMounted=!0},l.prototype.render=function(){var e,t={"limited-team-invite-form":!0,"error-message-fixed":this.props.errorMessageSpaceFixed,"has-custom-message":this.props.includeCustomMessage};return this.props.includeCustomMessage&&(e=o.default.createElement(h,{ref:"customMessage",className:"custom-message","disable-errors":!0,placeholder:this.props.messagePlaceholder,value:this.props.populatedCustomMessage})),o.default.createElement("div",{className:n.default(t,this.props.customClass)},o.default.createElement("div",{className:"error-message u-mar-bottom-xss"},this.props.customErrorMessage||this.state.errorMessage),o.default.createElement(_.ContactsTokenizer,{ref:"tokenizer",user:this.props.user,placeholder:this.props.emailPlaceholder,onContentsChange:this.onContentsChange,focusOnMount:this.props.autofocusTokenizer,populatedInputData:{tokens:this.props.populatedContacts,value:""},tokenSpacing:this.props.tokenSpacing,customContactValidator:this._validateContact,customContactFilter:this._customContactFilter}),this.props.includeCustomMessage&&e)},l.displayName="LimitedTeamInviteForm",l.defaultProps={customClass:"",invitationContext:t.InvitationContexts.existingTeam,populatedContacts:[],emailPlaceholder:s.intl.formatMessage({id:"mU6Spv",defaultMessage:"Name or email"}),messagePlaceholder:s.intl.formatMessage({id:"Sj7Fsz",defaultMessage:"Add a message (optional)"}),includeCustomMessage:!0,autofocusTokenizer:!0},l})(o.default.Component);t.LimitedTeamInviteForm=C})),define("modules/clean/top_notif",["require","exports","tslib","jquery","modules/clean/ajax"],(function(e,t,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),o=r.__importStar(o);var i={HIDE_EVENT:"db:topnotificationbar:hide",show:function(){var e;(e=document.body.classList).add.apply(e,["top-notification-bar","has-top-notification"])},hide:function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n.default("#top-notification-bar-container").remove(),n.default(".top-notification-bar-silo").remove(),(e=document.body.classList).remove.apply(e,["top-notification-bar","has-top-notification"]),n.default(".embedded-app.IndexRebrandPage.top-notification-bar").removeClass("top-notification-bar"),n.default(".maestro #notify-wrapper.with-top-notification").removeClass("with-top-notification"),n.default(document).trigger(this.HIDE_EVENT)},hideById:function(e){document.querySelector(".top-notification-bar-container #"+e)&&i.hide()}};t.TopNotificationBar=i;var a={init:function(){return i.show(),n.default(".eu-bar-dismiss").on("click",(function(e){return e.preventDefault(),i.hide(),o.SilentBackgroundRequest({url:"/dismiss_eu_cookie_notification"})}))}};t.EUCookieNotificationBar=a;var s={init:function(){return i.show(),n.default("#locale-switch-banner-dismiss").on("click",(function(e){return e.preventDefault(),i.hide(),o.SilentBackgroundRequest({url:"/dismiss_locale_switch_banner"})}))}};t.LocaleSwitchBar=s;var l={init:function(){return i.show(),n.default("#super-inactive-recover-bar-dismiss").on("click",(function(e){return e.preventDefault(),i.hide(),o.SilentBackgroundRequest({url:"/dismiss_super_inactive_recover_bar"})}))}};t.SuperInactiveRecoverBar=l;var u={init:function(){return i.show(),n.default("#unsupported-browser-dismiss").on("click",(function(e){return e.preventDefault(),i.hide(),o.SilentBackgroundRequest({url:"/dismiss_browser_msg"})}))}};t.UnsupportedBrowser=u;var c={init:function(e){return i.show(),n.default(".beta-locale-dismiss").on("click",(function(t){return t.preventDefault(),i.hide(),o.SilentBackgroundRequest({url:"/dismiss_beta_locale_notification",data:{source:e}})}))}};t.BetaLocaleNotificationBar=c}));
//# sourceMappingURL=pkg-legacy-aa.min.js-vflQ6c0if.map